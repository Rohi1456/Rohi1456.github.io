<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8">
<title>Cashier</title>
<link rel="manifest" href="manifest.json" />
<script>

var port = undefined;

(function() {

window.addEventListener("message", function (event) {

  // We are receiveing messages from any origin, you can check of the origin by

  // using event.origin
 
  // get the port then use it for communication.

  port = event.ports[0];

  if (typeof port === 'undefined') return;
 
  // Post message on this port.

  port.postMessage(JSON.stringify({"eventName": "ON_PAGE_LOAD","parameters": {"URL": "https://promo.nj.betmgm.com/en/promo/geolocator/sports?_nativeApp=sportsw&lang=en"}}));

	document.getElementById("portValue").value=port;

  // Receive upcoming messages on this port.

  port.onmessage = function(event) {

    console.log("[PostMessage1] Got message" + event.data);

  };

});

})();

function myFunction2(){

window.parent.postMessage(JSON.stringify({"eventName": "ON_PAGE_LOAD2","parameters": {"URL": "https://promo.nj.betmgm.com/en/promo/geolocator/sports?_nativeApp=sportsw&lang=en"}}));

}

function myFunction3(){

window.postMessage(JSON.stringify({"eventName": "ON_PAGE_LOAD3","parameters": {"URL": "https://promo.nj.betmgm.com/en/promo/geolocator/sports?_nativeApp=sportsw&lang=en"}}));

}
 
function myFunction1(){

  port.postMessage(JSON.stringify({"eventName": "ON_PAGE_LOAD1","parameters": {"URL": "https://promo.nj.betmgm.com/en/promo/geolocator/sports?_nativeApp=sportsw&lang=en"}}));

port.onmessage = function(event) {

    console.log("[PostMessage1] Got message1" + event.data);

  };
}

function sendWebReadyPing() {
  const channel = new MessageChannel();
  channel.port1.onmessage = (event) => {
    console.log("Android responded:", event.data);
    // Optionally store twaPort here
  };

  // This will fail silently if Android isn't listening yet â€” that's okay
  window.postMessage('web-ready', '*', [channel.port2]);
}
</script>
</head>
<body>
<button onclick="sendWebReadyPing()">send web ready</button>
<button onclick="myFunction1()">Click me 1</button>
<button onclick="myFunction2()">Click me 2</button>
<button onclick="myFunction3()">Click me 3</button>
<Text onclick="myFunction4()">Click me 4</button>
<input type="hidden" id="portValue" name="portValue" value="34657" />
</body> 
</html>
BetMGM
 
